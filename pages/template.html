<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="module">
        import builder from '../build/template-engine.js';
        let pageName = document.location.hash.replace('#', '') || 'index';
        fetch('../pages/' + pageName + '.json')
            .then((data) => data.text())
            .then(jsonString => JSON.parse(jsonString))
            .then(bemjson => builder(bemjson))
            .then(function (html) {
                document.body.innerHTML = html;
            })
            .catch((e) => {
                console.error(e);
                document.body.innerHTML = '';
            });
    </script>
    <link href="../build/style.css" rel="stylesheet"/>
    <script async src="../build/script.js"></script>
</head>
<body>
</body>
</html>